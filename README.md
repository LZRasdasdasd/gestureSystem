# 基于Python的手势识别系统

一个使用Python和MediaPipe开发的手势识别系统，支持实时摄像头手势识别、静态手势识别和图片手势识别三种模式。

## 项目简介

本系统是一个功能完整的手势识别应用，可以识别多种手势并将结果展示在图形界面上。系统使用MediaPipe进行手部检测和关键点提取，使用OpenCV进行图像处理，使用PySimpleGUI构建用户界面。

## 功能特点

- **多种识别模式**：
  - 动态手势识别模式：实时跟踪和识别手势变化
  - 静态手势识别模式：识别单个静止手势
  - 图片手势识别模式：从图片中识别手势，支持亮度/对比度调节

- **丰富的手势库**：支持识别20多种不同手势，包括：
  - 数字手势（1-5）
  - 常用手势（OK、GOOD、666等）
  - 特殊手势（蜘蛛侠、手枪姿势等）

- **用户友好界面**：
  - 直观的GUI界面，操作简单
  - 实时显示摄像头画面和识别结果
  - 详细的识别日志和提示信息

## 系统要求

- Python 3.7+
- Windows操作系统（目前针对Windows开发）
- 摄像头设备（用于实时识别）
- 以下Python依赖库：
  - OpenCV
  - MediaPipe
  - NumPy
  - PySimpleGUI

## 安装说明

1. 克隆或下载本项目到本地
2. 安装所需依赖：
   ```
   pip install opencv-python mediapipe numpy PySimpleGUI
   ```
3. 确保摄像头权限已开启
4. 运行主程序：
   ```
   python Main.py
   ```

## 使用指南

### 启动应用

- 运行`Main.py`后，会显示启动页面，随后进入主界面
- 在主界面选择所需的手势识别模式

### 动态手势识别模式

1. 选择"动态手势识别模式"
2. 点击"开始识别"按钮
3. 在摄像头前做出各种手势，系统会实时识别并显示结果
4. 点击"停止识别"按钮结束识别

### 静态手势识别模式

1. 选择"静态手势识别模式"
2. 将手势准备好并放置在摄像头前
3. 点击"开始识别"按钮进行识别
4. 可选择点击"保存图片"按钮保存当前识别画面
5. 点击"返回"按钮返回主界面

### 图片手势识别模式

1. 选择"图片手势识别模式"
2. 点击"选择文件"按钮，选择包含手势的图片
3. 可使用滑块调节图片的亮度和对比度
4. 可选择开启/关闭"手势提取"功能以增强识别效果
5. 点击"开始识别"按钮进行识别
6. 点击"返回"按钮返回主界面

## 项目结构

```
gestureSystem
│  Main.py                 # 主程序入口
│  HandTrackingModule.py   # 手势检测核心模块
│  first_view_GUI.py       # 启动页面GUI
│  second_all_GUI.py       # 主界面GUI
│  dynamic_GUI.py          # 动态识别界面GUI
│  static_GUI.py           # 静态识别界面GUI
│  image_GUI.py            # 图片识别界面GUI
│  Main.spec               # PyInstaller打包配置
│  启动页面.png            # 启动页面图片
│  README.md               # 项目说明文档
│
├─Gesture_data             # 手势数据目录
│  ├─00000.png             # 手势图像样本
│  └─cap_picture           # 保存识别图片的目录
│
├─build                    # 打包构建目录
│  └─Main
│
└─.idea                    # IDE配置目录
```

## 技术实现

###核心技术栈

- **MediaPipe**：Google开发的手势识别框架，用于手部检测和关键点提取
- **OpenCV**：用于图像处理和摄像头操作
- **PySimpleGUI**：用于构建图形用户界面
- **NumPy**：用于数值计算和数组操作

### 手势识别原理

1. 使用MediaPipe检测手部位置和21个关键点
2. 通过计算关键点之间的相对位置判断手指状态
3. 根据手指状态组合识别特定手势
4. 在图像上标注识别结果

### 核心算法

- 手指状态判断：通过比较指尖和指根的相对位置判断手指是否伸直
- 手势分类：基于手指状态组合进行手势分类
- 左右手识别：通过拇指和小指的位置关系判断左右手

## 打包发布

使用PyInstaller打包为可执行文件：

```
pyinstaller Main.spec
```

打包后的可执行文件位于`dist/Main`目录下。

## 注意事项

1. **光线条件**：确保光线充足但不过强，避免背光
2. **摄像头距离**：手部应完整出现在摄像头视野内，距离适中
3. **手势清晰**：做出手势时应保持清晰，避免模糊
4. **背景简单**：尽量使用简单背景，提高识别准确率

## 故障排除

1. **摄像头无法打开**：
   - 检查摄像头连接是否正常
   - 确认摄像头权限是否已开启
   - 尝试关闭其他可能占用摄像头的应用

2. **识别不准确**：
   - 调整光线条件
   - 确保手势清晰
   - 调整摄像头距离和角度

3. **程序启动失败**：
   - 检查Python版本是否符合要求
   - 确认所有依赖库是否正确安装
   - 查看错误日志获取详细信息

## 著作信息

- 著作人：刘倬荣
- 版本：2023.2.0v
- 侵权必究

## 更新日志

### 版本 2023.2.0v
- 初始版本发布
- 实现三种手势识别模式
- 支持20+种手势识别
- 完整的GUI界面
